<mat-sidenav-container>
    <!-- Sidebar for small screens -->
    <mat-sidenav #sidenav mode="over" hasBackdrop="true" class="sidenav">
        <div class="sidenav-header">
            <button mat-icon-button (click)="sidenav.close()" aria-label="Close">
                <mat-icon>close</mat-icon>
            </button>
        </div>
        <div class="sidenav-content">
            <button mat-button (click)="sidenav.close()" routerLink="/" [class.hover-blue]="isActive('/')">ChainPortal</button>
            <button mat-button (click)="sidenav.close()" routerLink="/nft" [class.hover-blue]="isActive('/nft')">NFTs</button>
            <button mat-button (click)="sidenav.close()" routerLink="/token" [class.hover-blue]="isActive('/token')">Tokens</button>
            <button mat-button (click)="sidenav.close()" routerLink="/learn" [class.hover-blue]="isActive('/learn')">Learn</button>
            <button mat-button (click)="sidenav.close()" routerLink="/faq" [class.hover-blue]="isActive('/faq')">FAQ</button>
            <button mat-button (click)="openFeedbackDialog(); sidenav.close();">Feedback</button>
        </div>
    </mat-sidenav>

    <div class="app-container">
        <!-- Placeholder for the fixed position navbar -->
        <div [ngStyle]="{ height: navbarHeight }"></div>
        
        <!-- Navbar -->
        <mat-toolbar class="navbar-container" [@slideInOut]="navbarAnimationIn ? 'in' : 'out'" *ngIf="isNavbar">
            <div class="mw-1600 navbar-inner">
                <!-- Hamburger icon, visible only on small screens -->
                <button mat-icon-button class="menu-icon" (click)="sidenav.toggle()"><mat-icon>menu</mat-icon></button>

                <!-- Left menu logo on large screens -->
                <div class="site-logo-wrapper">
                    <button color="primary" mat-button class="logo" routerLink="/">
                        <div class="site-logo-inner-wrapper">
                            <img src="/favicon.ico" width="30" height="30" loading="lazy" alt="ChainPortal" title="ChainPortal">
                            <span [class.hover-blue]="isActive('/')">ChainPortal</span>
                        </div>
                    </button>
                </div>
                
                <!-- Navbar buttons, hidden on small screens -->
                <span>
                    <button mat-button class="nav-buttons" routerLink="/nft" [class.hover-blue]="isActive('/nft')">NFTs</button>
                    <button mat-button class="nav-buttons" routerLink="/token" [class.hover-blue]="isActive('/token')">Tokens</button>
                    <button mat-button class="nav-buttons" routerLink="/learn" [class.hover-blue]="isActive('/learn')">Learn</button>
                    <button mat-button class="nav-buttons" routerLink="/faq" [class.hover-blue]="isActive('/faq')">FAQ</button>
                    <button mat-button class="nav-buttons" (click)="openFeedbackDialog()">Feedback</button>
                </span>

                <!-- Account Dropdown -->
                <app-account-dropdown></app-account-dropdown>
            </div>
            <!-- To observe the height of the material toolbar header -->
            <div #navbarHeightEl class="h100"></div>
        </mat-toolbar>

        <!-- Router outlet for the entire site -->
        <div class="content mw-1600">
            <router-outlet />
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="mw-1600 footer-detailed">    
                <div class="flx flx-col footer-pages">
                    <p class="footer-col-title">Pages</p>
                    <a class="footer-link" routerLink="/" [class.hover-blue]="isActive('/')">Home</a>
                    <a class="footer-link" routerLink="/nft" [class.hover-blue]="isActive('/nft')">NFTs</a>
                    <a class="footer-link" routerLink="/token" [class.hover-blue]="isActive('/token')">Tokens</a>
                    <a class="footer-link" routerLink="/learn" [class.hover-blue]="isActive('/learn')">Learn</a>
                    <a class="footer-link" routerLink="/faq" [class.hover-blue]="isActive('/faq')">FAQ</a>
                </div>

                <div class="flx flx-col footer-contact">
                    <div class="footer-site-logo">
                        <img src="/favicon.ico" width="30" height="30" loading="lazy" alt="ChainPortal" title="ChainPortal">
                        <span>ChainPortal</span>
                    </div>
                    <p>Manage your digital assets effortlessly</p>
                    <p>For inquiries: chainportal1&#64;protonmail.com</p>
                    <div class="flx flx-row footer-socials">
                        <a href="https://x.com/cha1nportal" target="_blank" rel="noopener noreferrer"><img class="footer-social" src="/images/x-logo.webp" width="40" height="40" loading="lazy" alt="X (Twitter)" title="X (Twitter)"></a>
                    </div>
                </div>
                
                <div class="flx flx-col footer-useful-links">
                    <p class="footer-col-title">Useful links</p>
                    <a class="footer-link" routerLink="/terms-and-conditions" [class.hover-blue]="isActive('/terms-and-conditions')">Terms & Conditions</a>
                    <a class="footer-link" routerLink="/privacy-policy" [class.hover-blue]="isActive('/privacy-policy')">Privacy Policy</a>
                    <a class="footer-link" routerLink="/disclaimer" [class.hover-blue]="isActive('/disclaimer')">Disclaimer</a>
                    <a class="footer-link" routerLink="/terms-of-smart-contracts" [class.hover-blue]="isActive('/terms-of-smart-contracts')">Terms of Smart Contracts</a>
                </div>
            </div>
            <div class="footer-copyright"><div class="mw-1600">
                <span>&copy;{{currentYear}} ChainPortal. All Rights Reserved.</span>
            </div></div>
        </footer>  
    </div>
</mat-sidenav-container>